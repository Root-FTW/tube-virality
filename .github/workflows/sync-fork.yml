name: Sync Fork

on:
  schedule:
    - cron: '0 * * * *'  # Ejecutar cada hora (minuto 0 de cada hora)
  workflow_dispatch:  # Permite ejecutar manualmente cuando quieras

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
      
      - name: Add remote upstream
        run: git remote add upstream https://github.com/gpsyrou/tube-virality.git
      
      - name: Fetch upstream
        run: git fetch upstream
      
      - name: Sync fork
        run: |
          git checkout main
          git merge upstream/main
          git push origin main
